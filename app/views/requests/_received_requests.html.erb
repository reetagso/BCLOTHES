<div class="h5 my-4">
<% if @requests_received == nil %>
  You haven't received any Bclothes requests
<% else %>
  You have received <%=@requests_received.length%> Bclothes requests:
</div>
  <div class="rounded-3">
    <% @requests_received.each do |request| %>
      <div class="d-flex align-items-center pl-3 my-4 h5">
        <%= image_tag User.find(request.user_id).photo.key ? User.find(request.user_id).photo.url : "https://kitt.lewagon.com/placeholder/users/ssaunier", class: "avatar dropdown-toggle", id: "navbarDropdown", data: { bs_toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
        <h4 class="pl-2"><%= User.find(request.user_id)[:first_name]%></h4>
      </div>
      <div class="d-flex shadow rounded">
        <div class="shadow m-3">
          <%= cl_image_tag Item.find(request.item_id).photos.first.key, height: 300, width: 300, crop: :pad, background: "auto" %>
        </div>
        <div class="ms-4 my-3">
          <h5><%= request.title%></h5>
          <p class="text-secondary">(<%= request.status %>)</p>
          <p><em><%= request.start_date.strftime("%b %d, %Y")%>-<%= request.end_date.strftime("%b %d, %Y")%></p></em>
          <p><%= request.description%><p>
          <div>
          <div class="container-button">
            <div>
              <%= link_to "View Item", item_path(Item.find(request.item_id)), class: "btn-request"  %>
            </div>
            <div>
              <%= link_to "View Request", request_path(request), class: "btn-request" %>
            </div>
            <div>
              <%= link_to "Edit Request", edit_request_path(request), class: "btn-request" %>
            </div>
          </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>

<style>

.container-button{
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  gap: 40px;
}

.btn-request {
  display: inline-block;
  color: black;
  background: #e9e2e2;
  border-radius: 5px;
  padding: 10px 5px;
  text-align: center;
  width: 150px;
}

.btn-request:hover {
  background-color: #c39d56;
  color: #fff;
  text-decoration: none;
}

</style>
